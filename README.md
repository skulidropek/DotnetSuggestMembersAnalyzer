# ESLint Plugin: Suggest Members с Расширенным Форматтером

ESLint плагин для TypeScript, который обнаруживает потенциальные опечатки при обращении к несуществующим полям/методам объектов, импортах и идентификаторах, и предлагает возможные исправления. Плагин также включает специальный форматтер `full-format-style`, который улучшает читаемость ошибок.

## Основные возможности

- Обнаружение попыток доступа к несуществующим свойствам объектов
- Обнаружение ошибок в импортах и идентификаторах
- Предложение возможных исправлений на основе алгоритмов сравнения строк
- Расширенный форматтер вывода ошибок

### Алгоритмы обнаружения сходства

В плагине используется несколько алгоритмов для нахождения наиболее похожих имен:

- Расстояние Левенштейна: измеряет количество изменений (вставок, удалений, замен) для преобразования одной строки в другую
- Расстояние Дамерау-Левенштейна: расширение расстояния Левенштейна, учитывающее транспозиции символов
- Алгоритм Джаро-Винклера: измеряет сходство между строками, учитывая общие символы и транспозиции
- Сходство аббревиатур: обнаруживает случаи, когда используются заглавные буквы из имени поля (например, `getUser` → `gU`)

## Установка

```bash
npm install eslint-plugin-suggest-members --save-dev
```

## Конфигурация

### ESLint Flat Config (рекомендуется)

```js
import suggestMembers from 'eslint-plugin-suggest-members';

export default [
  // ... другие конфигурации
  {
    plugins: {
      'suggest-members': suggestMembers,
    },
    rules: {
      'suggest-members/suggest-members': 'warn', // Для обнаружения опечаток в свойствах объектов
      'suggest-members/suggest-imports': 'warn'   // Для обнаружения ошибок в импортах и идентификаторах
    },
  },
];
```

### Legacy config

```json
{
  "parser": "@typescript-eslint/parser",
  "plugins": ["suggest-members"],
  "rules": {
    "suggest-members/suggest-members": "warn",
    "suggest-members/suggest-imports": "warn"
  }
}
```

## Использование расширенного форматтера

### Вариант 1: Использовать команду eslint-full-format из этого пакета

```bash
# При локальной установке
npx eslint-plugin-suggest-members/eslint-full-format --ext .ts src/

# При глобальной установке
eslint-full-format --ext .ts src/
```

Вы также можете добавить скрипт в ваш package.json:

```json
{
  "scripts": {
    "lint": "eslint-plugin-suggest-members/eslint-full-format --ext .ts src/"
  }
}
```

### Вариант 2: Указать форматтер при запуске eslint

```bash
eslint --ext .ts src/ --format full-format-style
```

### Вариант 3: Настроить форматтер в конфигурации

```js
// eslint.config.js
export default [
  {
    // ... другие настройки
    formatter: 'full-format-style'
  }
];
```

## Правила

### suggest-members

Это правило обнаруживает попытки доступа к несуществующим свойствам или методам объектов и предлагает похожие имена на основе алгоритмов сходства строк.

### suggest-imports

Это правило обнаруживает ошибки в импортах и использовании неопределенных идентификаторов, предлагая возможные исправления:

- Неправильные имена импортов (например, `import { Addr1ess } from "@ton/core"` → предложит `Address`)
- Неопределенные идентификаторы (например, `Add1ress` → предложит `Address` или другие похожие переменные в текущей области видимости)

## Тестирование и примеры

В репозитории есть папка `/example` с примерами различных случаев использования. Вы можете запустить проверку этих примеров:

```bash
npm run test:typos         # Простые опечатки
npm run test:similarity    # Проверка алгоритмов нахождения сходства
npm run test:edge-cases    # Сложные случаи
npm run test:jaro-winkler  # Примеры работы алгоритма Джаро-Винклера
npm run test:corner-cases  # Крайние случаи
```

## Разработка

```bash
npm install
npm run build
npm run example:lint       # Запуск линтера на примерах
```

## Лицензия

ISC

## Автор

TON Foundation

Если у вас есть вопросы или предложения по улучшению, пожалуйста, создайте issue или pull request в репозитории проекта.